<dom-module id="valo-button" theme-for="vaadin-button">
  <template>
    <style>
    :host {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: var(--valo-primary-text-color);
      font-family: var(--valo-font-family);
      font-size: var(--valo-font-size);
      font-weight: 500;
      background-color: var(--valo-button-background-color, var(--valo-white-60pct));
      min-width: var(--valo-size-m) * 2;
      min-height: var(--valo-size-m);
      border-radius: var(--valo-button-border-radius, var(--valo-border-radius));
      margin: var(--valo-space-xs);
      -webkit-tap-highlight-color: transparent;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      transition: all 0.3s;
      will-change: transform;
      position: relative;
      box-shadow: 0 0 0 1px var(--valo-button-border-color, var(--valo-black-5pct)),
                  0 1px 2px 0 var(--valo-black-20pct);
    }

    [part="button"] {
      border: 0;
      margin: 0;
      padding: 0 var(--valo-space-m);
      background-color: transparent;
      color: inherit;
      font: inherit;
      line-height: normal;
      text-transform: inherit;
      outline: none;
      min-width: inherit;
      min-height: inherit;
      text-shadow: inherit;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    [part="button"]::-moz-focus-inner {
      border: 0;
    }

    @media (hover: hover) {
      :host(:hover:not([theme~="tertiary"]):not([theme~="primary"]):not([active])) {
        border-color:var(--valo-button-hover-border-color, var(--valo-black-20pct));
        background-color: var(--valo-button-hover-background-color, var(--valo-white));
      }
    }

    /* Activation effect */

    :host::before {
      content: "";
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      opacity: 0;
      transition: opacity 1.4s, transform 0.1s;
      border-radius: inherit;
      background-color: currentColor;
      will-change: transform, opacity;
      filter: blur(8px);
    }

    :host([active]) {
      transition-duration: 0.1s;
      transform: scale(0.98);
      border-color: var(--valo-primary-color-50pct);
    }

    :host([active])::before {
      opacity: 0.1;
      transition-duration: 0.05s, 0s;
      transform: scale(0);
    }

    /* Tertiary style */

    :host([theme~="tertiary"]) {
      background-color: transparent;
      box-shadow: none;
    }

    /* Primary style */

    :host([theme~="primary"]) {
      background-color: var(--valo-primary-color);
      color: var(--valo-primary-contrast-color);
      box-shadow: 0 1px 2px 0 var(--valo-black-30pct);
      font-weight: var(--valo-primary-button-font-weight, 600);
      min-width: calc(var(--valo-size-m) * 2.5);
    }

    :host([theme~="primary"][active])::before {
      opacity: 0.15;
    }

    /* Small style */

    :host([theme~="small"]) {
      min-height: calc(var(--valo-size-s) - 2px);
      min-width: calc(var(--valo-size-s) * 2 - 2px);
    }

    /* Icon style */

    :host([theme~="icon"]) {
      min-width: 0;
      min-height: 0;
      width: var(--valo-size-m);
      height: var(--valo-size-m);
      padding: var(--valo-space-s);
      box-sizing: border-box;
      --iron-icon-width: 100%;
      --iron-icon-height: 100%;
    }

    :host([theme~="icon"]) ::slotted(iron-icon) {
      vertical-align: top;
    }

    :host([theme~="icon"]) [part="button"] {
      padding: 0;
    }

    :host([theme~="small"][theme~="icon"]) {
      height: var(--valo-size-s);
      width: var(--valo-size-s);
    }

    /* Disabled */

    :host([disabled]) {
      pointer-events: none;
      color: var(--valo-disabled-text-color);
      box-shadow: none;
    }

    :host([disabled]:not([theme~="tertiary"])) {
      background-color: var(--valo-button-disabled-background-color, var(--valo-black-20pct));
    }

    /* Keyboard focus */

    :host([focus-ring]) {
      box-shadow: 0 0 0 2px var(--valo-primary-color-50pct);
    }

    </style>
  </template>
</dom-module>
