<dom-module id="valo-text-field" theme-for="vaadin-text-field">
  <template>
    <style>
      :host {
        color: var(--valo-body-text-color);
        font-size: var(--valo-font-size);
        font-family: var(--valo-font-family);
        width: var(--valo-text-field-default-width, calc(var(--valo-base-grid) * 24));
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        -webkit-tap-highlight-color: transparent;
      }

      [part="label"] {
        color: var(--valo-caption-text-color, var(--valo-secondary-text-color));
        font-weight: var(--valo-caption-font-weight);
        font-size: var(--valo-caption-font-size);
        margin-left: calc(var(--valo-text-field-border-radius, var(--valo-border-radius)) / 3);
        margin-bottom: var(--valo-space-xs);
        margin-top: var(--valo-space-m);
        transition: color 0.3s;
      }

      :host([focused]) [part="label"] {
        color: var(--valo-primary-color);
      }

      /*:host()*/

      [part="value"] {
        -webkit-appearance: none;
        -moz-appearance: none;
        outline: none;
        margin: 0;
        border: 0;
        border-radius: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        font-family: inherit;
        font-size: 1em;
        font-weight: 500;
        color: inherit;
        height: 1.25em;
        background-color: transparent;

        /* Disable default invalid style in Firefox */
        box-shadow: none;
      }

      [part="value"]::-webkit-input-placeholder {
        color: var(--valo-disabled-text-color);
        transition: opacity 0.175s 0.05s;
        opacity: 1;
      }

      [part="value"]:-ms-input-placeholder {
        color: var(--valo-disabled-text-color);
      }

      [part="value"]::-moz-placeholder {
        color: var(--valo-disabled-text-color);
        transition: opacity 0.175s 0.05s;
        opacity: 1;
      }

      [part="value"]::placeholder {
        color: var(--valo-disabled-text-color);
        transition: opacity 0.175s 0.1s;
        opacity: 1;
      }

      [part="input-field"] {
        border-radius: var(--valo-text-field-border-radius, var(--valo-border-radius));
        background-color: var(--valo-text-field-background-color, var(--valo-black-10pct));
        padding: var(--valo-space-s) calc(var(--valo-space-s) + var(--valo-text-field-border-radius, var(--valo-border-radius)) / 3);
        transition: all 0.5s;
        font-weight: var(--valo-caption-font-weight);
        position: relative;
      }

      @media (hover: hover) {
        :host(:hover:not([readonly])) [part="input-field"] {
          background-color: var(--valo-text-field-hover-background-color, var(--valo-black-20pct));
        }
      }

      :host(:active:not([readonly])) [part="input-field"] {
        background-color: var(--valo-text-field-active-background-color, var(--valo-black-30pct));
      }

      :host([focused]:not(:active):not([readonly])) [part="input-field"] {
        background-color: var(--valo-text-field-focused-background-color, var(--valo-white));
        box-shadow: 0 0 0 1px var(--valo-text-field-focused-border-color, var(--valo-black-20pct)),
                    0 1px 4px 0 var(--valo-black-20pct);
      }

      :host(:active) [part="input-field"],
      :host(:hover) [part="input-field"] {
        transition-duration: 0.3s, 0.6s;
      }

      /* Activation effect */

      [part="input-field"]::after {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        border-radius: inherit;
        pointer-events: none;
        background-color: var(--valo-text-field-focused-background-color, var(--valo-white));
        opacity: 0;
        transition: transform 0.2s, opacity 1s;
        transform-origin: 0 0;
        will-change: transform;
      }

      :host(:not([readonly]):active) [part="input-field"]::after {
        opacity: 0.5;
        transform: scaleX(0);
        transition-duration: 0s, 0s;
      }

      :host([disabled]) {
        pointer-events: none;
      }

      :host([disabled]) [part="value"] {
        color: var(--valo-disabled-text-color);
      }

      :host([disabled]) [part="value"]::-webkit-input-placeholder {
        opacity: 0;
      }

      :host([disabled]) [part="value"]:-ms-input-placeholder {
        opacity: 0;
      }

      :host([disabled]) [part="value"]::-moz-placeholder {
        opacity: 0;
      }

      :host([disabled]) [part="value"]::placeholder {
        opacity: 0;
      }

      [part="error-message"] {
        margin-top: var(--valo-space-xs);
        margin-left: calc(var(--valo-text-field-border-radius, var(--valo-border-radius)) / 3);
        font-size: var(--valo-font-size-s);
        color: var(--valo-error-text-color);
      }

      /* Small theme */
      :host([theme~="small"]) {
        --valo-font-size: 14px;
      }
    </style>
  </template>
</dom-module>
